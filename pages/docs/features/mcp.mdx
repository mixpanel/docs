---
title: MCP
tags: [mcp, model context protocol, ai, cursor, anthropic, chatgpt, openai, claude, gemini, natural language, integration, conversational ai, mixpanel, llm, AI-Powered Analytics Through Natural Language]
---

import { Code, Callout } from 'nextra/components'

# Mixpanel MCP Integration
---
## Overview

The Mixpanel Model Context Protocol (MCP) integration enables organizations to analyze product and replay data using conversational AI. Teams can query events, session replays, funnels, and user behavior through AI interfaces (Claude, Cursor, etc.) using natural language, eliminating the need for complex dashboard navigation or technical query languages.

<Callout type="info">
  **Beta Feature:** Help us improve this integration by sharing your feedback [here](https://docs.google.com/forms/d/e/1FAIpQLSchV5qoyiI9tmtxOkDF_4So5KKR1iiZzuqcPbwMOphQC_lEVA/viewform?usp=header).
</Callout>

---

## Mixpanel MCP Tools
The MCP integration provides access to all core Mixpanel analysis capabilities through natural language queries:

### Analytics Functions

- Segmentation: Event counts and unique users with filtering and grouping (`Run-Segmentation-Query`)
- Funnels: Conversion rate analysis across user journeys (`Run-Funnels-Query`)
- Retention: User engagement and return behavior tracking (`Run-Retention-Query`)
- Frequency: User engagement patterns and usage intensity (`Run-Frequency-Query`)

### Data Discovery & Exploration

- Project Management: Access projects and workspace information (`Get-Projects`)
- Event Discovery: Browse all available events in your project (`Get-Events`)
- Property Names: Explore properties available for events or users (`Get-Property-Names`)
- Property Values: Discover specific values for event or user properties (`Get-Property-Values`)
- Data Quality: Get and filter data quality issues by event, property, type, or date range (`Get-Issues`)
- Lexicon Integration: Get direct links to event or property definitions in Mixpanel Lexicon (`Get-Lexicon-URL`)

### Data Management

- Edit Event: Modify event metadata such as description, display name, tags, verification, and visibility (`Edit-Event`)
- Event Details: Retrieve full event metadata before editing (`Get-Event-Details`)
- Edit Property: Modify property metadata such as description, display name, hidden status, and PII classification (`Edit-Property`)
- Create Tag: Create tags for organizing events and properties in Lexicon (`Create-Tag`)
- Rename Tag: Rename existing tags across all associated events and properties (`Rename-Tag`)
- Delete Tag: Remove tags from your project (`Delete-Tag`)
- Dismiss Issues: Dismiss data quality issues using natural criteria such as event names, property names, or issue types (`Dismiss-Issues`)

### Qualitative Analysis

- Session Replays: Analyze a specific user's replays in combination with event data (`Get-User-Replays-Data`)

### Query Capabilities

- Natural Language Filtering: Use complex boolean expressions for data filtering
- Advanced Grouping: Segment data by properties with mathematical operations
- Time-based Analysis: Analyze trends across different time periods (hourly, daily, weekly, monthly)
- Numerical Aggregations: Perform sum, average, and bucket analysis on numeric properties

For more information on organizing and documenting your events, see [Mixpanel Lexicon documentation](/docs/data-governance/lexicon).

---

## Getting Started

### Beta Access
The Mixpanel MCP integration is currently in Beta. You can start using it right away by following the [Implementation Guide](#implementation-guide) below.

### Permissions & Access Control

**Admin Configuration Required**
- **Organization administrators** must enable MCP access in **Settings > Org > Overview**
- Once enabled by an admin, all Mixpanel users in the organization can use the MCP integration
- The MCP toggle controls access for the entire organization

**User Access Scope**
After the organization admin enables MCP:
- Any Mixpanel user with any role can connect to the MCP integration
- Users can only query data from projects they already have access to within Mixpanel
- Existing Mixpanel permissions and project access controls remain in effect

### Recommended Implementation Path
1. **Organization admin** enables "Enable MCP" toggle in organization settings
2. **Individual users** complete the integration setup following the [Implementation Guide](#implementation-guide)
3. **Users authenticate** with their Mixpanel account during the connection process
4. **Once authenticated, start by asking:** "What Mixpanel projects do I have access to?"
5. **Select a project** from the response to focus your analysis
6. **Ask any questions** about your Mixpanel data—refer to [Use Case Examples](#use-case-examples) below if you need ideas
7. **Begin with test data** to validate functionality
8. **Conduct security review** before production data access
9. **Train teams** on natural language query techniques
10. **Expand usage** across product and analytics teams

---

## Implementation Guide

### Prerequisites (for Claude Free, Cursor & Gemini CLI)
**Install Node.js (if needed):**
```bash
brew install node
```

### Option 1: Claude Pro

**Setup Steps:**
1. Navigate to [claude.ai](https://claude.ai) or open Claude desktop app
2. Go to **Settings** → **Connectors** → **Add Custom Connector**
3. Configure the integration:
   - **Integration Name:** Mixpanel (or preferred name)
   - **Integration URL**
     - US: `https://mcp.mixpanel.com/mcp`
     - EU: `https://mcp-eu.mixpanel.com/mcp`
     - IN: `https://mcp-in.mixpanel.com/mcp`
4. Click **Connect** and complete Mixpanel authorization

For additional information on setting up Claude connectors, see [Claude's connector documentation](https://support.anthropic.com/en/articles/11724452-browsing-and-connecting-to-tools-from-the-directory).

---

### Option 2: Claude Free
**Additional Requirements:**
- Claude desktop application
- Command line access

**Setup Steps:**
1. Open Claude desktop app
2. Navigate to **Settings** (from window nav bar) → **Developer** → **Edit Config**
3. Add the following configuration:

```json
{
  "mcpServers": {
    "mixpanel": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.mixpanel.com/mcp", // or use mcp-eu.mixpanel.com/mcp for EU, mcp-in.mixpanel.com/mcp for IN
        "--allow-http"
      ]
    }
  }
}
```

4. Run authorization command in terminal:
```bash
npx -y mcp-remote https://mcp.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
```

For EU,
```bash
npx -y mcp-remote https://mcp-eu.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
```

For IN,
```bash
npx -y mcp-remote https://mcp-in.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
```

5. Complete Mixpanel authorization via the provided link

---

### Option 3: Cursor
**Additional Requirements:**
- Cursor application  
- Command line access

**Setup Steps:**
1. Open Cursor application
2. Navigate to **Cursor Settings** → **MCP & Integrations** → **MCP Tools** → **New MCP Server**
3. This opens MCP.json where you paste the following configuration:

```json
{
  "mcpServers": {
    "mixpanel": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.mixpanel.com/mcp", // or use mcp-eu.mixpanel.com/mcp for EU, mcp-in.mixpanel.com/mcp for IN
        "--allow-http"
      ]
    }
  }
}
```

4. Run authorization command in terminal:
```bash
npx -y mcp-remote https://mcp.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
```

For EU,
```bash
npx -y mcp-remote https://mcp-eu.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
```

For IN,
```bash
npx -y mcp-remote https://mcp-in.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
```


5. Complete Mixpanel authorization via the provided link

---

### Option 4: Google Gemini CLI

**Additional Requirements:**
- [Gemini CLI](https://github.com/google-gemini/gemini-cli) installed
- Command line access

**Setup Steps:**
1. Install the Gemini CLI by following [Gemini CLI installation instructions](https://github.com/google-gemini/gemini-cli?tab=readme-ov-file#-installation).
2. Authenticate to Google Gemini using your Google account:
   ```bash
   gemini
   ```
3. Configure Mixpanel MCP as a remote server and authorize:
   ```bash
   npx -y mcp-remote https://mcp.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
   ```

   For EU,
   ```bash
   npx -y mcp-remote https://mcp-eu.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
   ```

   For IN,
   ```bash
   npx -y mcp-remote https://mcp-in.mixpanel.com/mcp --static-oauth-client-metadata '{ "scope": "projects analysis events insights segmentation retention data:read funnels flows data_definitions" }' --allow-http
   ```

   Running this command will provide a link in your terminal to authorize your access with Mixpanel. Follow the authorization steps in your browser. After logging in via OAuth, you should see a confirmation message.

4. **Verify Configuration (or Create It Manually):**  
   After authorization, your `settings.json` file for the Gemini CLI should be updated automatically. You can find this file at `~/.gemini/settings.json`. To check, run:
   ```bash
   ls -la ~/.gemini
   cat ~/.gemini/settings.json
   ```
   The contents should be similar to the following:
   ```json
   {
     "theme": "Default",
     "selectedAuthType": "oauth-personal",
     "mcpServers": {
       "mixpanel-remote": {
         "command": "npx",
         "args": [
           "-y",
           "mcp-remote",
           "https://mcp.mixpanel.com/mcp",  // or use mcp-eu.mixpanel.com/mcp for EU, mcp-in.mixpanel.com/mcp for IN
           "--allow-http"
         ]
       }
     },
     "preferredEditor": "vim"
   }
   ```
   This configuration ensures that the Gemini CLI knows how to connect to the Mixpanel remote server.
   If `settings.json` is not available, create it manually using the same contents as above.
   

5. Complete Mixpanel authorization via the provided link (if not already done).
6. Run the Gemini CLI
  Once configured, you can use the Gemini CLI with the specified model by running this command:
  ```bash
  gemini
  ```

---

### Option 5: ChatGPT (OpenAI)

**Additional Requirements:**
- OpenAI/ChatGPT account with MCP access

**Setup Steps:**
1. Enable Developer Mode
   - Go to Settings → Connectors → Advanced
   - Enable "Developer Mode" (see https://platform.openai.com/docs/guides/developer-mode)

2. Add the Mixpanel MCP connector
   - Create a new connector/integration in the ChatGPT Connectors UI
   - Provide these values:
     - Name: Mixpanel MCP
     - Description: The MCP integration provides access to all core Mixpanel analysis capabilities through natural language queries.
     - MCP Server URL
       - US: `https://mcp.mixpanel.com/mcp`
       - EU: `https://mcp-eu.mixpanel.com/mcp`
       - IN: `https://mcp-in.mixpanel.com/mcp`
     - Authentication type: OAuth
   - Click Create and then connect to Mixpanel and follow the OAuth flow to authorize Mixpanel access.

3. Publish connector to workspace (optional)
   - To make the connector available to other members: go to Settings → Apps & Connectors → Mixpanel → Publish

---

## Building Custom Integrations (OAuth)

If you are building a third-party MCP client or custom integration that connects to Mixpanel's MCP server, use the following OAuth configuration.

### MCP Server Endpoints

| Region | Endpoint |
| ------ | -------- |
| US     | `https://mcp.mixpanel.com/mcp` |
| EU     | `https://mcp-eu.mixpanel.com/mcp` |
| IN     | `https://mcp-in.mixpanel.com/mcp` |

### OAuth Discovery

Clients can discover the full OAuth configuration at the `/.well-known/oauth-authorization-server` path on the MCP server URL (e.g., `https://mcp.mixpanel.com/.well-known/oauth-authorization-server`).

### Dynamic Client Registration

Register your client at the registration endpoint for the appropriate region:

| Region | Registration Endpoint |
| ------ | --------------------- |
| US     | `https://mixpanel.com/oauth/mcp/register/` |
| EU     | `https://eu.mixpanel.com/oauth/mcp/register/` |
| IN     | `https://in.mixpanel.com/oauth/mcp/register/` |

### Authorization Code Flow with PKCE

Mixpanel's MCP server uses the **Authorization Code flow with PKCE (S256)**:

- **Authorization endpoint:** `https://{mixpanel_domain}/oauth/authorize`
- **Token endpoint:** `https://{mixpanel_domain}/oauth/token/`
- **Supported grant types:** `authorization_code`, `refresh_token`
- **Supported response types:** `code`
- **Code challenge method:** `S256`
- **Token endpoint auth methods:** `none`, `client_secret_basic`, `client_secret_post`

Where `{mixpanel_domain}` is `mixpanel.com` (US), `eu.mixpanel.com` (EU), or `in.mixpanel.com` (IN).

### Required OAuth Scopes

The following scopes are **mandatory** — connections will fail without all of them:

```
projects analysis events insights segmentation retention data:read funnels flows data_definitions
```

---

## Use Case Examples

**Channel Performance Analysis**

- Query example: "Which channels drive the most users?"
- Business Value: Identify top-performing acquisition channels for budget allocation

**Retention Intelligence**

- Query: "Which channels drive users who retain best?"
- Business Value: Understand quality vs. quantity in user acquisition strategy

**Conversion Optimization**

- Query: "Show me signup conversion rates by source"
- Business Value: Optimize funnel performance by traffic source

**User Journey Analysis**

- Query: "What's the typical user journey for power users?"
- Business Value: Identify patterns in high-value user behavior for product development

**Advanced Analytics**

- Query: "Compare user behavior across different feature roll outs"
- Business Value: Measure feature impact and optimize product decisions

**User Feedback Analysis**
- Query: "Why did this user submit negative feedback? Analyze their session replays."
- Business Value: Understand user context and behavior patterns by analyzing replay footage in combination with your event data.

**Usage Analysis**
- Query: "What features does this user use most? Analyze their session replays"
- Business Value: Better understand specific customers usage patterns without needing to build reports or watch dozens of replays

**Troubleshooting User Issues**
- Query: "This user reported an issue; what happened in their replays?"
- Business Value: Accelerate support investigations by getting instant answers that combine events and replay context

### Key Benefits

**Democratized Analytics**
- Natural language queries eliminate technical barriers
- Instant insights without dashboard complexity
- Accessible to non-technical stakeholders

**Enhanced Productivity**  
- Reduce time-to-insight from minutes to seconds
- Eliminate context switching between tools
- Enable real-time decision making
- Save hours daily by analyzing replays and events together without manually piecing together

**Strategic Value**
- Accelerate product discovery processes
- Enable data-driven conversations across teams
- Improve accessibility of product intelligence

---

## Security & Compliance Considerations

**Data Handling**
**Important:** This integration enables querying your Mixpanel data through AI services (Claude, Cursor, etc.). Review your organization's data handling policies before implementation.

**Access Controls**
- Organization administrators must enable MCP in **Settings > Org > Overview**
- Users can only query data from projects they already have access to within Mixpanel
- Existing Mixpanel permissions and project access controls remain in effect

**Best Practices**
- Start with demo or test datasets
- Conduct internal security review before production use
- Consider compliance requirements (GDPR, CCPA, etc.)
- Establish usage guidelines for teams
- Monitor data sharing patterns

---

## Technical Specifications

**Supported Platforms**
- **Claude Pro:** Web interface with native MCP support
- **Claude Free:** Desktop app with configuration setup
- **Cursor:** AI-powered code editor integration
- **Google Gemini CLI:** Command-line interface with MCP support
- **ChatGPT (OpenAI):** Web interface with MCP connector support

**Integration Architecture**
- **Protocol:** Model Context Protocol (MCP)
- **Transport:** Streamable HTTP
- **Authentication:** OAuth 2.0 with PKCE (S256)
- **Endpoints:**
  - US: `https://mcp.mixpanel.com/mcp`
  - EU: `https://mcp-eu.mixpanel.com/mcp`
  - IN: `https://mcp-in.mixpanel.com/mcp`

---

## Troubleshooting

**Common Issues**
- **Node.js not found:** Install using `brew install node`
- **Authorization fails:** Ensure proper Mixpanel account permissions
- **Desktop app issues:** Restart application after configuration changes
- **Free user limitations:** Remote URL integrations only supported in desktop app
