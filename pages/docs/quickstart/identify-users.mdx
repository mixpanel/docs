# Identify Users

import { Tab, Tabs } from 'nextra-theme-docs'

import ExtendedButton from '/components/ExtendedButton/ExtendedButton'
import ExtendedTabs from '/components/ExtendedTabs/ExtendedTabs';
import FAQBox from '/components/FAQBox/FAQBox'

import { dataItems } from '/utils/constants';

## Overview

This step introduces theÂ `identify`Â method, which allows you to see which users triggered each event in Mixpanel. 

It is recommended to include this snippet in the section of your code where sign-ups, logins, or account detail updates are handled.


## Code

ReplaceÂ `USER_ID`Â with a unique identifier, preferably the user ID from your database. 

Including the user's email is also suggested, along with any additional **User Properties** such as name, avatar, created date, etc. 
Tracking this information allows you to create groups of users (aka **Cohorts**) and filter for certain users, enabling you to
uncover new trends and insights.

<ExtendedTabs urlParam="sdk" urlToItemsMap={dataItems}>

<Tab>
```js Javascript
// Set USER_ID to a unique identifier for the user 
mixpanel.identify('USER_ID')

mixpanel.people.set({ '$name': 'Jane Doe',
                      '$email': 'jane.doe@example.com',
                      'plan' : 'Premium'
                      // Add anything else about the user here
                      });
```
</Tab>

<Tab>
```python
# Set USER_ID to a unique identifier for the user 
mp.people_set('USER_ID', {'$name'  : 'Jane Doe',
                          '$email' : 'jane.doe@example.com',
                          'plan' : 'Premium'
                          # Add anything else about the user here
})
```

You may want to disable ip geolocation when using a server-side SDK. You can learn more in [Server-Side Best Practices](/docs/tracking-best-practices/server-side-best-practices)

</Tab>

<Tab>
```javascript
// Set USER_ID to a unique identifier for the user 
mixpanel.people.set('USER_ID', {
    $name: 'Jane Doe',
    $email: 'jane.doe@example.com',
    plan: 'premium'
    // Add anything else about the user here
});
```
</Tab>

<Tab>
```go
// Set USER_ID to a unique identifier for the user 
exampleUser := mp.NewPeopleProperties("USER_ID", map[string]any{
  "$name": "Jane Doe",
  "$email": "jane.doe@example.com",
  "plan": "Premium"
  // Add anything else about the user here
})

err := mp.PeopleSet(ctx, []*mixpanel.PeopleProperties{
		exampleUser,
	},
)
```

You may want to disable ip geolocation when using a server-side SDK. You can learn more in [Server-Side Best Practices](/docs/tracking-best-practices/server-side-best-practices)
</Tab>

<Tab>
```ruby
# Set USER_ID to a unique identifier for the user 
mp.people.set('USER_ID', {
    '$name' => 'Jane Doe',
    '$email' => 'jane.doe@example.com',
    'plan' => 'Premium'
    # Add anything else about the user here
});
```

You may want to disable ip geolocation when using a server-side SDK. You can learn more in [Server-Side Best Practices](/docs/tracking-best-practices/server-side-best-practices)
</Tab>

<Tab>
```java
// Set USER_ID to a unique identifier for the user 
JSONObject props = new JSONObject();
props.put("$name", "Jane Doe");
props.put("$email", "jane.doe@example.com");
props.put("plan", "Premium");
JSONObject update = messageBuilder.set("USER_ID", props);

// Send the update to mixpanel
mixpanel.sendMessage(update);
```
</Tab>

<Tab>
```javascript Javascript
// Set USER_ID to a unique identifier for the user 
mixpanel.identify("USER_ID");

// Identify must be called before properties are set
mixpanel.getPeople().set("$name", "Jane Doe");
mixpanel.getPeople().set("$email", "jane.doe@example.com");
mixpanel.getPeople().set("plan", "Premium");
```

You may want to disable ip geolocation when using a server-side SDK. You can learn more in [Server-Side Best Practices](/docs/tracking-best-practices/server-side-best-practices)
</Tab>

<Tab>
```java
// Set USER_ID to a unique identifier for the user 
mixpanel.identify("USER_ID");

// Identify must be called before properties are set
mixpanel.getPeople().set("$name", "Jane Doe");
mixpanel.getPeople().set("$email", "jane.doe@example.com");
mixpanel.getPeople().set("plan", "Premium");
```
</Tab>

<Tab>
```objc Objective-C
// Set USER_ID to a unique identifier for the user 
[mixpanel identify:@"USER_ID"];

[mixpanel.people set:@{@"$name": @"Jane Doe"}];
[mixpanel.people set:@{@"$email": @"jane.deo@example.com"}];
[mixpanel.people set:@{@"plan": @"Premium"}];
```
</Tab>

<Tab>
```swift Swift
// Set USER_ID to a unique identifier for the user 
Mixpanel.mainInstance().identify(distinctId: "USER_ID")

Mixpanel.mainInstance().people.set(properties: [ "$name":"Jane Doe", 
                                                 "$email":"jane.doe@example.com",
                                                 "$plan":"Premium"])
```
</Tab>

<Tab>
```java Java
// Set USER_ID to a unique identifier for the user 
// The second param is a flag for allowing profile updates
mp.identify("USER_ID", true);

// Identify must be called before properties are set
mp.getPeople().set("$name", "Jane Doe");
mp.getPeople().set("$email", "jane.doe@example.com");
mp.getPeople().set("plan", "Premium");
```
</Tab>

<Tab>
```csharp
// Set USER_ID to a unique identifier for the user 
Mixpanel.Identify("USER_ID");

// Identify must be called before properties are set
Mixpanel.People.Set("$name", "Jane Doe");
Mixpanel.People.Set("$email", "jane.doe@example.com");
Mixpanel.People.Set("plan", "Premium");
```
</Tab>

<Tab>
If you don't see an SDK or an integration in your language, you can send events to our API directly. 

Here's a sample script. Replace `YOUR_TOKEN` with your project token. You can find your token [here](https://mixpanel.com/settings/project).

```python test.py
import requests

url = "https://api.mixpanel.com/engage#profile-set"

payload = [
    {
        "$token": "YOUR_TOKEN",
        # Set USER_ID to a unique identifier for the user =
        "$distinct_id": "USER_ID",
        "$set": {
            "$name": "Jane Doe",
            "$email": "jane.doe@example.com",
            "plan": "Premium"
        }
    }
]
headers = {
    "accept": "text/plain",
    "content-type": "application/json"
}

response = requests.post(url, json=payload, headers=headers)

print(response.text)
```
ðŸŽ‰ Congratulations, you've tracked your first user! You can see them in Mixpanel via the [Users page](https://mixpanel.com/report/users).

**Best Practices for Scale**

You can use this API at scale, for example to backfill historical data into Mixpanel or as part of a high-throughput streaming pipeline. We provide walkthroughs for [Amazon S3](/docs/data-pipelines/integrations/amazon-s3) and [Google Cloud Storage](/docs/data-pipelines/integrations/google-cloud-storage) to provide a more production-grade example of how to use this API at scale.

Here are some other best practices:

- Be explicit about what is tracked to Mixpanel rather than implicitly tracking everything, both for performance and security reasons. Avoid sending user generated content, high-cardinality IDs, or large semi-structured objects.
- Import a more recent time window first (last 7 days or last 30 days) before backfilling historical data. Mixpanel's autocomplete menus populate events and properties based on the last 30 days of data, so this is the best way to test that data looks as expected.
- Leverage batching and compression. Each request to /import can send 2000 events to Mixpanel and can be sent compressed using gzip. The sample code in this guide does both.
- When using Cloud Storage, partition files into ~200MB of JSON (or ~200K records) each. Each file is processed in parallel by Cloud Functions/Lambda and must be ingested by the function within the configured timeout.
- Log any 400 errors returned by the API. These are non-retryable and indicate something malformed with the data. This should be extremely unlikely once the API is up and running. If a batch contains a mix of valid and invalid data, we will ingest the valid data.

**Limits**

Our Import API is built to ingest billions of events per day across our customers. That said, we do rate limit at very high scale to ensure quality of service and real-time ingestion. Please refer to our [Import API docs](https://developer.mixpanel.com/reference/import-events) for details.

All of our sample code transparently retries and backoff from rate limit exceptions. If you require a higher-limit for a 1-time backfill, please reach out to us at apis@mixpanel.com.
</Tab>

</ExtendedTabs>

ðŸŽ‰ Congratulations, you've tracked your first user! You can see them in Mixpanel via the [Users page](https://mixpanel.com/report/users).

<br></br><br></br><br></br><br></br>

{/* Next Section */}

<hr></hr>
<br></br>

<div className="bg-base100 rounded-xl">
    <h2 className="text-2xl font-medium mb-2 color:bg-purple200">Next: Track Events</h2>
    <p>Once you've implemented `identify`, it's time to track what your users are doing in your product.</p>
    <br></br>
    <ExtendedButton title="Track Events in Your Product" link="/docs/quickstart/track-events/"></ExtendedButton>
</div>


<br></br><br></br>

## FAQ

<FAQBox title="How do I connect events from logged out to logged in users?">
If tracking client-side, just call `.identify(<user_id>)` when a user logs in and `.reset()`
 when they log out. Mixpanel will automatically stitch the user journey across
  logged out and logged in.

  If tracking server-side, check out our [server-side best practices guide](/docs/best-practices/server-side-best-practices). 
  For more information, read our comprehensive guide on [Identifying Users](/docs/tracking-methods/id-management/identifying-users).
</FAQBox>

<FAQBox title="What does Mixpanel track automatically?">
Mixpanel's Data Ingestion APIs and Client-Side SDKs automatically collect certain properties on every event 
or user profile update. Examples include: location, operating system, device, etc. Mixpanel calls this auto-generated data "Default Properties".

[Learn More About Default Properties](/docs/data-structure/property-reference#default-properties)
</FAQBox>