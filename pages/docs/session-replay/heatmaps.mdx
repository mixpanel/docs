import { Callout } from 'nextra/components'

# Heatmaps (Beta)

<Callout type="info">
  Heatmaps are currently in private, closed beta. For early access, please contact your Account Manager.
</Callout>

## Overview

Heatmaps help you visualize user interactions on your web application, showing where users click the most. This feature enables teams to quickly identify areas of high engagement and friction, helping to optimize user experiences and improve conversion rates.

Our initial version of Heatmaps is a click map, which means it specifically tracks clicks on individual site elements rather than just overlaying general activity on a page. This provides more precise insights into which modals, dropdowns, or features that users engage with the most. Future versions may also include hovers, scroll depth, and other interaction types.

Enabling Heatmaps does not affect billing. They are included with the Session Replay add-on and do not generate additional billable events.

###  How It Works
Heatmaps are powered by Session Replay data and automatically capture click interactions when enabled. Users can generate a Heatmap for specific pages to gain deeper insights into user engagement.

To function, Heatmaps require Session Replay to be enabled, as they rely on session replay data to track and visualize user clicks.

Heatmaps only capture data during sessions with recorded replays. If a page has limited replay coverage, the Heatmap may not offer meaningful insights.

### Implementation

Ensure you have Session Replay set up(see [developer guide on implementing Session Replay](/docs/session-replay/implement-session-replay/session-replay-web)), with the `record_heatmap_data` set to `true`.

Clicks recorded using `record_heatmap_data` will only capture clicks while an a session recording is in progress. These clicks are sent as `$mp_click` and will not be counted against your plan data allowance.

**Example Usage**

```javascript Javascript
mixpanel.init('YOUR_PROJECT_TOKEN', {
  record_sessions_percent: 1, // Session Replay enabled, recording 1% of all sessions
  record_heatmap_data: true   // Enable Heatmap data collection
});
```

If you currently use [Autocapture](/docs/tracking-methods/autocapture) to track clicks, you can leverage these clicks to populate the Heatmaps without the `record_heatmap_data` init option.

Clicks captured by Autocapture are billable events that are counted against your plan data allowance.

**Example Usage**

```javascript Javascript
mixpanel.init('YOUR_PROJECT_TOKEN', {
  autocapture: {
    pageview: "full-url",
    click: true, // click tracking enabled
    input: true,
    scroll: true,
    submit: true,
    capture_text_content: false,
  },
  record_sessions_percent: 1 // Session Replay enabled, recording 1% of all sessions
});
```

<Callout type="info">
  Clicks generated by `record_heatmap_data` are exempt from your plan data allowance. Clicks generated by [Autocapture](/docs/tracking-methods/autocapture) are billable events.
</Callout>

### Using Heatmaps

1. From the Home page, find the Heatmaps section.

![heatmap_home.png](/heatmap_home.png)

2. Choose a URL where you want to analyze user interactions and generate a Heatmap.

![heatmap_sample.png](/heatmap_sample.png)

3. To easily navigate back to a created Heatmap, you can click the title to rename the Heatmap.

![heatmap_rename.png](/heatmap_rename.png)

4. Rotate through backdrops to view different states of your application for the same URL.

![heatmap_backdrops.png](/heatmap_backdrops.png)

### Backdrops

Backdrops are snapshots of your application in various states (such as a modal open, a menu expanded, or different page layouts). Backdrops are pulled from session replays that match the URL youâ€™re analyzing, helping you understand how different views or UI states affect user interactions.

Backdrops are subject to the same retention policies as your session replays. Once a session replay expires, it can no longer be used as a backdrop. If you don't see enough backdrops (or can't find the specific view or state you're looking for), consider increasing your session replay sampling rate to capture a wider set of application states.

## FAQ

#### Why does it say the player failed to load?

To maintain a high level of security, Mixpanel runs your heatmaps in an isolated domain through an iframe. Occasionally, this domain may be blocked by an ad blocker or specific browser settings. We recommend disabling any ad blockers, or whitelisting the Mixpanel domain.

For extensions like uBlock, go to "My Filters" in the extension settings and add the following custom filter:

```
@@||mxpnl.com^$domain=mxpnl.com
```

#### Why does it say the backdrop replay was not found?

Heatmaps are stored indefinitely, but a specific backdrop may depend on a replay that is stored according to a specific retention policy.  If that backdrop replay is deleted, you may need to pick a new one.

#### Why does it say no backdrop options were found?

If we can't find any eligible Session Replays with click events matching the heatmap URL, then we can't generate a backdrop for the heatmap.  You may need to increase your session replay sampling or manually capture replays on your page of interest to ensure relevant replays are available.

See the developers guide for [implementing Session Replay](/docs/session-replay/implement-session-replay) to learn more about sampling and manual capture.

#### Why does it say there is no data for the heatmap URL?

Heatmaps are populated using click data captured using our SDK.  Ensure you have implemented click tracking either through [session replay](/docs/session-replay/implement-session-replay/session-replay-web#heatmaps-beta) or through [autocapture](/docs/quickstart/capture-events/autocapture).

If no clicks were found for the URL, you may need to increase your session replay sampling or manually capture replays on your page of interest to ensure relevant replays and click events are available.  See the developers guide for [implementing Session Replay](/docs/session-replay/implement-session-replay) to learn more about sampling and manual capture.

#### Why does it say no elements were found for my heatmap?

We match click events to specific elements on your page.  If no matches are found, double check that the backdrop accurately represents the page with the URL you have specified.