# Redshift


<div style={{position: 'relative', paddingBottom: '64.90384615384616%', height: 0}}>
    <iframe src="https://www.loom.com/embed/76f4658dd850457e9634c706ee0d9430"
        frameBorder="0"
        webkitallowfullscreen="true" mozallowfullscreen="true" allowFullScreen
        style={{position: 'absolute', 'top': 0, 'left': 0, 'width': '100%', 'height': '100%'}}>
    </iframe>
</div>

Complete the following steps to get your Redshift connector up and running:

1. Navigate to **Project Settings**, then select **Warehouse Sources**.
2. Click on `+ Add Connection` and select **Redshift**.
3. You should see a new page to create your Redshift connector. In the first view, fill out the following fields before clicking  `Next`: 
    - **AWS Account ID**  - This is the AWS account ID that can be found in the dropdown in the AWS Redshift Console.
    - **Cluster ID**  - This is the name of the Redshift cluster.
4. In the second view, you will need to add the following. 
    - **AWS Region** - The region code in which your Redshift cluster resides.
    - **S3 Staging Bucket** - This is the name of S3 staging bucket you need to create. We'll use it to extract data from your Redshift tables before importing the data into Mixpanel.
    - Copy the command generated below in the AWS CLI to create the S3 Staging Bucket with the name you specified.
    - **Database Name** - Input the name of the Database where the tables you want to import are stored.
    - (Optional) **Policy Name** - This is an optional name for the policy, which contains role permissions that you need to grant the Mixpanel Service Account. After inputting a policy name, you can either copy paste the JSON in the AWS UI or copy paste the inline command line version that we generate and run in the AWS CLI.
    - **Role Name** - Input the name of the role. After inputting a role name, you can either copy paste the JSON in the AWS UI or copy paste the inline command line version that we generate and run in the AWS CLI. Running this command grants the Mixpanel Service Account the necessary permissions to read and export data from your Redshift tables.
    - Finally, attach the policy you created to the role you created by copy pasting the command in the AWS CLI.
    - Then, click Create Source.
5. In the third view, you should see a confirmation that your source was created. To establish the source connection, we need to ping your Redshift instance to actually create the service account user.
    - **Grant Access to Schema** - Enter the name of the schema you want to grant Mixpanel access to. 
    - Copy the command generated and run in your Redshift worksheet. Once that command is run successfully, the connection will be established and you will be able to send data from Redshift tables to Mixpanel.
    
### IP Allowed List
If you are using [AWS PrivateLink](https://docs.aws.amazon.com/redshift/latest/mgmt/security-private-link.html) to restrict access to your instance, you might need to add the following IP addresses to the allowed list.

```jsx
34.31.112.201
34.147.68.192
35.184.21.33
35.225.176.74
35.204.164.122
35.204.177.251
```
