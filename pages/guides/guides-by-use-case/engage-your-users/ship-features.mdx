import { Callout, Steps } from 'nextra/components'

# How to Safely Ship New Features with Flags

Feature Flags give your team the power to launch confidently, roll back instantly, and measure success in real time. Mixpanel integrates feature flagging directly into your analytics‚Äîso every rollout is both controlled and measurable.

## What Are Feature Flags?

Feature Flags decouple deployment (when code ships) from release (when users see it). This means engineers can deploy at any time, while product teams control when‚Äîand to whom‚Äînew functionality appears.

Mixpanel's native feature flags integrate directly with your data, so you can track adoption, performance, and impact without additional setup.

---

## 1. Prepare for Rollout

Feature flagging starts with setup. Your engineering team must enable flag evaluation within your app before flags can be controlled in Mixpanel.

Steps to take:

<Steps>

{ <h3>Implement the Mixpanel SDK</h3> }

Make sure to initialize the library with the config option `flags: true`.

- [JavaScript SDK flags setup ‚Üí](/docs/tracking-methods/sdks/javascript/javascript-flags) 
- [iOS / Swift SDK flags setup ‚Üí](/docs/tracking-methods/sdks/swift/swift-flags)
- [Android SDK flags setup ‚Üí](/docs/tracking-methods/sdks/android/android-flags)


{ <h3>Define fallback variants in code to prevent errors if the flag fails to resolve.</h3> }

{ <h3>Verify flag evaluation using QA Testers before releasing to real users.</h3> }

</Steps>

- ‚úÖ **Do** confirm the SDK setup and flag evaluation flow with Engineering before creating a feature flag in Mixpanel.
- ‚ùå **Do not** create flags in the UI before the SDK is integrated‚Äîthe flag won't control behavior in your product until the SDK is configured.

<Callout type="warning">
    **Pitfall:** Skipping SDK setup causes flags to appear ‚Äúinactive‚Äù even if configured correctly in Mixpanel.
</Callout>

---

## 2. Plan a Safe Rollout

With SDK setup complete, decide how to roll out the feature. Use data-driven rollout strategies to manage risk and learn quickly.

Common rollout types:
- Phased Rollout: Start with 5‚Äì10 % of users, expanding gradually.
- Cohort-Based Targeting: Show the feature to specific segments (e.g. power users or new signups).
- Platform Segmentation: Launch to a single platform (like iOS) before web.
- Feature Gate: Keep a kill switch ready for instant rollback.

<Callout type="info">
    **Pro tip:** Combine a phased rollout with [alerts](/docs/features/alerts) on key metrics‚Äîlike conversion or retention‚Äîto catch regressions early.
</Callout>

---

## 3. Configure Your Flag in Mixpanel

Once your SDK is live, create and manage feature flags directly in the Mixpanel UI.

Steps to take:

<Steps>

{ <h3>Create a new flag.</h3> }

e.g. `onboarding_v2`

{ <h3>Add a variant and define rollout percentages.</h3> }

{ <h3>Target users by cohort or run-time properties.</h3> }

e.g. `platform = android`

{ <h3>Use QA Testers to assign test variants and confirm logic.</h3> }

{ <h3>Monitor exposure and adoption in real time, adjusting rollout weights as you scale.</h3> }

</Steps>

<Callout type="info">
    **Pro tip:** Use consistent flag and variant names across systems to keep your analytics clean.
</Callout>

### How it Works

When your app loads, the Mixpanel SDK automatically fetches active flags and evaluates which variant each user should see. Once a variant is displayed, Mixpanel logs an exposure event (`$experiment_started`), allowing you to track adoption and impact immediately in your reports‚Äîno manual tagging needed.

![Experiments_and_FF.png](/Experiments_and_FF.png)

[üìñ Full Feature Flags documentation ‚Üí](/docs/featureflags)

---

## 4. Monitor and Learn

After launch, use Mixpanel analytics to determine whether to expand, iterate, or revert.

Tools to Help
- [Insights](/docs/reports/insights): Measure adoption and engagement by variant.
- [Funnels](/docs/reports/funnels/funnels-overview): Track conversion rates between control and variant users.
- [Boards](/docs/boards): Create a shared rollout dashboard with annotations and alerts.
- [Session Replay](/docs/session-replay): Watch user interactions to diagnose UX issues.

<Callout type="info">
    **Pro tip:** Use [borrowed properties](/docs/features/custom-properties#borrowed-properties) or [cohorts](/docs/users/cohorts) to track downstream behavior for users exposed to each variant.
</Callout>

 üëâ **Do this next:** Validate exposure counts and cohort membership before scaling.

 ---

## 5. Govern and Clean Up

Feature flags are powerful, but unmanaged flags become ‚Äúflag debt.‚Äù Maintain hygiene by:
- Assigning an **owner** for each flag.
- **Auditing** monthly or quarterly.
- Keeping flags scoped to one use case.
- **Documenting** rollout intent and success criteria.
- **Sunsetting** flags once a feature reaches 100 % rollout.

<Callout type="info">
**Pro tip:** Add flag cleanup reviews to your sprint rituals to stay organized and efficient.
</Callout>

---

## Key Takeaways

- Prepare your setup by enabling flag support in your SDK so Mixpanel can control feature visibility.
- Plan safe roll outs using phased or cohort-based release strategies to manage risk.
- Configure and control flags directly in Mixpanel‚Äîno redeploy required.
- Monitor adoption and performance with built-in analytics to decide when to expand or revert.
- Govern and clean up flags regularly to prevent confusion and keep your implementation scalable.

üìö **Go deeper:** [Feature Flags overview in Mixpanel Docs](/docs/featureflags)
